# Protocol-Oriented Programming

**<프로토콜 지향 프로그래밍>**

: 스위프트의 표준 라이브러리에서 타입과 관련된 것을 살펴보면 대부분 구조체로 구현되어 있다. 객체지향 프로그래밍 패러다임에 기반을 둔 언어는 대부분 클래스의 상속을 사용해 타입에 공통된 기능을 구현한다. 스위프트는 클래스로 구현된 타입은 별로 없고, 대부분 구조체로 기본 타입이 구현되어 있다. 



**프로토콜 초기구현**

: 프로토콜은 특정 역할을 수행하기 위한 메서드, 프로퍼티, 기타 요구사항 등의 청사진이다. 프로토콜을 채택한 타입은 프로토콜이 요구하는 기능을 구현하여 프로토콜을 준수해야한다. 익스텐션은 기존 타입의 기능을 확장하며, 프로토콜은 프로토콜을 채택한 타입이 원하는 기능을 강제로 구현해야 한다.

: **프로토콜을 채택한 타입의 정의부에 프로토콜의 요구사항을 구현하지 않더라도 프로토콜의 익스텐션에 미리 프로토콜의 요구사항을 구현해 둘 수 있다.** 

: 프로토콜 초기 구현과 다른 동작을 해야한다면, 그 타입에 프로토콜의 요구사항을 재정의해주면 된다.



**프로토콜 지향 프로그래밍을 추구하는 이유**

* 구조체, 클래스, 열거형 등 구조화된 타입 중에 상속은 클래스 타입에서만 가능
  * 클래스는 참조 타입이므로 참조 추적에 비용이 많이 발생한다. 비용이 적은 값 타입을 활용하고 싶어도, 상속을 할 수 없으므로 항상 기능을 다시 구현해 주어야 했지만, 프로토콜 지향 프로그래밍은 그 한계가 없다.
* 기능의 모듈화가 더 명확
  * 클래스가 상속을 할 수 있도록 설계되어 있어도 다중 상속을 지원하는 언어는 많지 않다. 다중상속을 지원하지 않는다는 뜻은 하나의 상속체계에서 다른 상속체계에 속해있는 기능을 끌어다 쓸 수 없다는 뜻이다. 프로토콜 지향 프로그래밍은 기능을 프로토콜이라는 단위로 묶어 표현하고 초기 구현을 해 둘 수 있으니 상속이라는 한계점을 탈피할 수 있다. 



**장점**

- 범용적인 사용
  - 클래스, 구조체, 열거형 등 모든 타입에 적용 가능
  - 제네릭과 결합하면 더 파급적인 효과 : 하나의 타입으로 지정 가능
- 상속의 한계 극복
  - 특정 상속 체계에 종속되지 않음
  - 프레임워크에 종속적이지 않게 재활용 가능
- 적은 시스템 비용
  - Reference type cost > Value type cost
- 용이한 테스트
  - GUI 코드 없이도 수월한 테스트



**한계**

* Objective-C 프로토콜에 Swift Extension을 붙여도 Protocol default implementation이 구현되지 않음
* Delegate, DataSource 등 프레임워크 프로토콜에 기본 구현 불가



















참고 : https://blog.yagom.net/531

https://academy.realm.io/kr/posts/protocol-oriented-programming-in-swift/


# 운영체제 (`Operating System`)

> 컴퓨팅 자원들을 효율적으로 관리하여, 사용자에게 서비스를 제공함



## 컴퓨터 하드웨어

* 프로세서(`Processor`) : 중앙처리장치

  > * 계산을 함
  > * 컴퓨터의 모든 장치의 동작을 제어함
  >
  > * CPU / 그래픽카드(GPU) / 응용 전용 처리장치

* 메모리(`Memory`)

  > * 저장을 함
  > * 주기억장치 / 보조기억장치 / DRAM / Disk

* 주변장치

  > * 키보드 / 마우스 (입력)
  > * 모니터 / 프린터 (출력)
  > * 네트워크 모뎀
  > * 보조기억장치 (저장)



### 레지스터(`Register`)

* 프로세서 내부에 있는 메모리

  > * 프로세서가 사용할 데이터를 저장함
  > * 컴퓨터에서 가장 빠른 메모리

* 레지스터의 종류

  > * 용도 : 전용 레지스터 / 범용 레지스터
  > * 사용자가 변경 가능 여부 : 사용자 가시 레지스터 / 사용자 불가시 레지스터
  > * 저장하는 정보의 종류 : 데이터 레지스터 / 주소 레지스터 / 상태 레지스터

### 사용자 가시 레지스터

* 데이터 레지스터(`DR: Data Register`)
* 주소 레지스터(`AR: Address Register`)

### 사용자 불가시 레지스터

* 프로그램 카운터(`PC: Program Counter`) : 다음에 실행할 명령어의 주소를 저장하고 있음 
* 명령어 레지스터(`IR: Instruction Register`) : 현재 실행하는 명령어를 저장하고 있음
* 누산기(`ACC: Accumulator`) : 계산할 때 데이터를 일시적으로 저장함
* 메모리 주소 레지스터(`MAR: Memory Address Register`)
* 메모리 버퍼 레지스터(`MBR: Memory Buffer Register`)



### 운영체제는 프로세서에게 처리할 작업을 할당 및 관리함

> 프로세스 생성 및 관리

### 운영체제는 프로그램의 프로세서 사용을 제어함

> 프로그램의 프로세서 사용 시간 관리
>
> 여러 프로그램간 사용 시간 조율



### 메모리(`Memory`)

* 데이터를 저장하는 장치(기억장치)

> 프로그램(OS, 사용자SW), 사용자 데이터 등

* 종류

> 레지스터 / 캐시 / 메인 메모리(`DRAM`) / 보조기억장치(`HDD`)



### 주기억장치(`Main Memory`)

* 프로세서가 수행할 프로그램과 데이터를 저장함
* DRAM을 주로 사용함 : 용량이 크고, 가격이 저렴
* 디스크 입출력 병목현상(I/O bottleneck) 해소



### 캐시(`Cache`)

* 프로세서 내부에 있는 메모리 (L1, L2 캐시 등)

* 속도가 빠르고 가격이 비쌈

* 메인 메모리의 입출력 병목현상 해소

* 일반적으로 하드웨어적으로 관리됨

  > * 캐시 히트(`Cache hit`) : 필요한 데이터 블록이 캐시에 존재함
  > * 캐시 미스(`Cache miss`) : 필요한 데이터 블록이 없음



### 지역성(`Locality`)

* 공간적 지역성(`Spatial locality`)

> 참조한 주소와 인접한 주소를 참조하는 특성 (ex. 순차적 프로그램 수행)

* 시간적 지역성(`Temporal locality`)

> 한 번 참조한 주소를 곧 다시 참조하는 특성 (ex. for문 등의 순환문)

* **지역성 때문에 캐시 적중률(`Cache hit ratio`)이 높을 수 있음**

> 그렇기 때문에 캐시가 매우 작은 메모리(128kb)를 가지고 있지만 메인 메모리에 접근하는 병목 현상을 해결할 수 있음

### 

## 보조기억장치(`Auxiliary memory / Secondary memory / Storage`)

* 프로그램과 데이터를 저장함(하드디스크 / USB / CD / DVD / SD card)
* 프로세서가 직접 접근할 수 없음(주변장치)
  * 주기억장치를 거쳐서 접근함
  * 프로그램, 데이터 > 주기억장치 => 가상 메모리(`Virtual memory`)가 등장
* 용량이 크고, 가격이 저렴함

### 

### 운영체제가 메모리를 할당 및 관리함

> 프로그램의 요청에 따른 메모리 할당 및 회수
>
> 할당된 메모리 관리



### 운영체제가 가상 메모리를 관리함

> 가상메모리 생성 및 관리
>
> 논리주소 -> 물리주소 변환



## 시스템 버스(`System Bus`)

> 하드웨어들이 데이터 및 신호를 주고 받는 물리적인 통로

* 데이터 버스 : 데이터 버스를 구성하는 배선 수는 프로세서가 한 번에 전송할 수 있는 비트 수를 결정함 => **워드**
* 주소 버스 : 주소 버스를 구성하는 배선 수는 프로세서와 접속할 수 있는 메인 메모리의 최대 용량을 결정함
* 제어 버스 : 연산장치의 연산 종류 / 메인 메모리의 읽기나 쓰기 동작 결정

1. PC -> MAR : PC에 저장된 주소를 프로세서 내부 버스를 이용하여 MAR에 전달함

2. Memory -> MBR : MAR에 저장된 주소에 해당하는 메모리 위치에서 명령어를 인출한 후 이 명령어를 MBR에 저장함. 이 때 제어장치는 메모리에 저장된 내용을 읽도록 제어 신호를 발생시킴

   PC + 1 -> PC : 다음 명령어를 인출하려고 PC를 증가시킴

3. MBR -> IR : MBR에 저장된 내용을 IR에 전달함



### 운영체제는 장치드라이버를 관리함

> 주변 장치 사용을 위한 인터페이스를 제공

### 운영체제는 인터럽트를 처리함

> 주변 장치의 요청을 처리

### 운영체제는 파일 및 디스크를 관리함

> 파일 생성 및 삭제
>
> 디스크 공간 관리



[출처](https://www.youtube.com/watch?v=EdTtGv9w2sA&list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN&index=1)